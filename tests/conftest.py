import json
from pathlib import Path

from pytest import fixture

from _cotton2k import Simulation
from cotton2k import run


@fixture
def empty_json(tmp_path: Path) -> Path:
    empty = tmp_path / "empty.cotton2k.json"
    empty.write_text(json.dumps({}))
    return empty


@fixture
def test_json(tmp_path: Path) -> Path:
    test = tmp_path / "alaer.cotton2k.json"
    test.write_text(
        json.dumps(
            {
                "description": "HAZOR 1984 experiment, treatment KB1",
                "start_date": "1984-04-01",
                "stop_date": "1984-09-28",
                "emerge_date": "1984-04-08",
                "longitude": 35,
                "latitude": 32,
                "elevation": 50,
                "site_parameters": [
                    1.0,
                    4.0,
                    2.0,
                    0.0025,
                    20,
                    24,
                    110,
                    1.0,
                    24,
                    4.0,
                    180,
                    -2.436,
                    0.820,
                    -0.930,
                    0.30,
                    0.18,
                ],
                "row_space": 96.520,
                "skip_row_width": 0.00,
                "plants_per_meter": 10,
                "cultivar_parameters": [
                    0.050,
                    0.28,
                    0.012,
                    0.50,
                    1.60,
                    0.010,
                    20.0,
                    0.14,
                    27.5,
                    0.3293,
                    9.482,
                    0.30,
                    0.040,
                    0.01,
                    2.8,
                    1.44,
                    0.40,
                    0.110,
                    0.40,
                    0.12,
                    17.0,
                    -2.6,
                    0.10,
                    0.15,
                    2.30,
                    1.08,
                    0.88,
                    2.30,
                    1.44,
                    0.98,
                    2.55,
                    1.50,
                    1.20,
                    0.04,
                    -31.0,
                    -52.50,
                    4.50,
                    2.50,
                    -292.0,
                    1.00,
                    54.56,
                    0.6755,
                    0.58,
                    0.42,
                    0.32,
                    0.08,
                    5.0,
                    1.48,
                    8.0,
                    0.80,
                ],
                "soil": {
                    "initial": [
                        {
                            "ammonium_nitrogen": 13.50,
                            "nitrate_nitrogen": 20.00,
                            "organic_matter": 1.200,
                            "water": 90,
                        },
                        {
                            "ammonium_nitrogen": 13.50,
                            "nitrate_nitrogen": 16.00,
                            "organic_matter": 1.000,
                            "water": 95,
                        },
                        {
                            "ammonium_nitrogen": 9.000,
                            "nitrate_nitrogen": 12.00,
                            "organic_matter": 0.800,
                            "water": 95,
                        },
                        {
                            "ammonium_nitrogen": 9.000,
                            "nitrate_nitrogen": 12.00,
                            "organic_matter": 0.600,
                            "water": 95,
                        },
                        {
                            "ammonium_nitrogen": 6.000,
                            "nitrate_nitrogen": 5.600,
                            "organic_matter": 0.000,
                            "water": 90,
                        },
                        {
                            "ammonium_nitrogen": 6.000,
                            "nitrate_nitrogen": 5.600,
                            "organic_matter": 0.000,
                            "water": 85,
                        },
                        {
                            "ammonium_nitrogen": 0.000,
                            "nitrate_nitrogen": 5.600,
                            "organic_matter": 0.000,
                            "water": 80,
                        },
                        {
                            "ammonium_nitrogen": 0.000,
                            "nitrate_nitrogen": 5.600,
                            "organic_matter": 0.000,
                            "water": 75,
                        },
                        {
                            "ammonium_nitrogen": 0.000,
                            "nitrate_nitrogen": 0.000,
                            "organic_matter": 0.000,
                            "water": 75,
                        },
                        {
                            "ammonium_nitrogen": 0.000,
                            "nitrate_nitrogen": 0.000,
                            "organic_matter": 0.000,
                            "water": 75,
                        },
                        {
                            "ammonium_nitrogen": 0.000,
                            "nitrate_nitrogen": 0.000,
                            "organic_matter": 0.000,
                            "water": 70,
                        },
                        {
                            "ammonium_nitrogen": 0.000,
                            "nitrate_nitrogen": 0.000,
                            "organic_matter": 0.000,
                            "water": 70,
                        },
                        {
                            "ammonium_nitrogen": 0.000,
                            "nitrate_nitrogen": 0.000,
                            "organic_matter": 0.000,
                            "water": 70,
                        },
                        {
                            "ammonium_nitrogen": 0.000,
                            "nitrate_nitrogen": 0.000,
                            "organic_matter": 0.000,
                            "water": 70,
                        },
                    ],
                    "hydrology": {
                        "ratio_implicit": 0.75,
                        "max_conductivity": 0.002,
                        "field_capacity_water_potential": -0.300,
                        "immediate_drainage_water_potential": -0.200,
                        "layers": [
                            {
                                "depth": 62.0,
                                "air_dry": 0.2843,
                                "theta": 0.4566,
                                "alpha": 0.0010,
                                "beta": 1.4678,
                                "saturated_hydraulic_conductivity": 0.000,
                                "field_capacity_hydraulic_conductivity": 0.020,
                                "bulk_density": 1.440,
                                "clay": 60.0,
                                "sand": 20.0,
                            },
                            {
                                "depth": 201.0,
                                "air_dry": 0.2613,
                                "theta": 0.4415,
                                "alpha": 0.0018,
                                "beta": 1.4186,
                                "saturated_hydraulic_conductivity": 0.000,
                                "field_capacity_hydraulic_conductivity": 0.020,
                                "bulk_density": 1.480,
                                "clay": 55.0,
                                "sand": 30.0,
                            },
                        ],
                    },
                },
                "climate_start_date": "1984-03-31",
                "climate": [
                    {
                        "radiation": 476.4858,
                        "max": 24.0,
                        "min": 12.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 481.02376,
                        "max": 22.0,
                        "min": 12.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 485.56172,
                        "max": 22.0,
                        "min": 11.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 489.86084,
                        "max": 22.0,
                        "min": 13.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 494.15996,
                        "max": 26.0,
                        "min": 9.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 498.45908,
                        "max": 38.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 502.7582,
                        "max": 25.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 506.81848,
                        "max": 23.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 510.87876,
                        "max": 24.0,
                        "min": 12.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 514.93904,
                        "max": 22.0,
                        "min": 12.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 518.99932,
                        "max": 22.0,
                        "min": 11.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 523.0596,
                        "max": 22.0,
                        "min": 13.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 526.88104,
                        "max": 26.0,
                        "min": 9.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 530.70248,
                        "max": 38.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 534.52392,
                        "max": 25.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 538.10652,
                        "max": 23.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 541.92796,
                        "max": 19.0,
                        "min": 13.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 545.51056,
                        "max": 23.0,
                        "min": 13.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 549.09316,
                        "max": 36.0,
                        "min": 13.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 552.43692,
                        "max": 22.0,
                        "min": 15.0,
                        "rain": 30.0,
                        "wind": 30.0,
                    },
                    {
                        "radiation": 556.01952,
                        "max": 26.0,
                        "min": 13.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 559.36328,
                        "max": 22.0,
                        "min": 9.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 562.70704,
                        "max": 21.0,
                        "min": 10.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 566.0508,
                        "max": 20.0,
                        "min": 8.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 569.15572,
                        "max": 19.0,
                        "min": 11.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 572.49948,
                        "max": 20.0,
                        "min": 8.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 575.6044,
                        "max": 24.0,
                        "min": 6.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 578.47048,
                        "max": 31.0,
                        "min": 7.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 581.5754,
                        "max": 22.0,
                        "min": 13.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 584.44148,
                        "max": 24.0,
                        "min": 9.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 587.5464,
                        "max": 23.0,
                        "min": 9.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 590.17364,
                        "max": 28.0,
                        "min": 11.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 593.03972,
                        "max": 39.0,
                        "min": 12.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 595.9058,
                        "max": 27.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 598.53304,
                        "max": 25.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 601.16028,
                        "max": 21.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 603.78752,
                        "max": 30.0,
                        "min": 11.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 606.17592,
                        "max": 31.0,
                        "min": 12.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 608.80316,
                        "max": 24.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 611.19156,
                        "max": 25.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 613.34112,
                        "max": 27.0,
                        "min": 10.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 615.72952,
                        "max": 29.0,
                        "min": 10.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 618.11792,
                        "max": 37.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 620.26748,
                        "max": 45.0,
                        "min": 12.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 622.41704,
                        "max": 26.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 624.5666,
                        "max": 27.0,
                        "min": 13.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 626.47732,
                        "max": 27.0,
                        "min": 10.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 628.38804,
                        "max": 31.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 630.29876,
                        "max": 33.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 632.20948,
                        "max": 30.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 634.1202,
                        "max": 31.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 635.79208,
                        "max": 32.0,
                        "min": 12.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 637.7028,
                        "max": 32.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 639.37468,
                        "max": 34.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 640.80772,
                        "max": 31.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 642.4796,
                        "max": 38.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 643.91264,
                        "max": 35.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 645.34568,
                        "max": 27.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 646.77872,
                        "max": 27.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 648.21176,
                        "max": 31.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 649.40596,
                        "max": 31.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 650.839,
                        "max": 28.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 652.0332,
                        "max": 27.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 652.98856,
                        "max": 32.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 654.18276,
                        "max": 28.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 655.13812,
                        "max": 28.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 656.33232,
                        "max": 29.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 657.28768,
                        "max": 30.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 658.0042,
                        "max": 30.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 658.95956,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 659.67608,
                        "max": 34.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 660.3926,
                        "max": 31.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 661.10912,
                        "max": 30.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 661.82564,
                        "max": 30.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 662.30332,
                        "max": 29.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 662.781,
                        "max": 28.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 663.25868,
                        "max": 30.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 663.73636,
                        "max": 30.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 664.21404,
                        "max": 29.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 664.45288,
                        "max": 29.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 664.69172,
                        "max": 29.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 664.93056,
                        "max": 27.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 665.1694,
                        "max": 29.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 665.40824,
                        "max": 29.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 665.40824,
                        "max": 31.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 665.40824,
                        "max": 32.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 665.40824,
                        "max": 31.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 665.40824,
                        "max": 30.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 665.1694,
                        "max": 30.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 665.1694,
                        "max": 30.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 664.93056,
                        "max": 29.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 664.69172,
                        "max": 29.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 664.45288,
                        "max": 30.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 663.9752,
                        "max": 30.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 663.49752,
                        "max": 31.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 663.25868,
                        "max": 33.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 662.54216,
                        "max": 33.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 662.06448,
                        "max": 31.0,
                        "min": 22.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 661.5868,
                        "max": 30.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 660.87028,
                        "max": 29.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 660.15376,
                        "max": 30.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 659.43724,
                        "max": 29.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 658.72072,
                        "max": 30.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 657.76536,
                        "max": 30.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 657.04884,
                        "max": 31.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 656.09348,
                        "max": 32.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 655.13812,
                        "max": 30.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 654.18276,
                        "max": 31.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 652.98856,
                        "max": 33.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 651.79436,
                        "max": 35.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 650.839,
                        "max": 32.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 649.6448,
                        "max": 31.0,
                        "min": 22.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 648.21176,
                        "max": 31.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 647.01756,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 645.82336,
                        "max": 31.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 644.39032,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 642.95728,
                        "max": 31.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 641.52424,
                        "max": 32.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 639.85236,
                        "max": 32.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 638.41932,
                        "max": 33.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 636.74744,
                        "max": 32.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 635.07556,
                        "max": 31.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 633.40368,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 631.7318,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 630.05992,
                        "max": 32.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 628.1492,
                        "max": 32.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 626.23848,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 624.32776,
                        "max": 31.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 622.41704,
                        "max": 31.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 620.50632,
                        "max": 32.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 618.35676,
                        "max": 33.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 616.44604,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 614.29648,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 612.14692,
                        "max": 32.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 609.99736,
                        "max": 31.0,
                        "min": 22.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 607.8478,
                        "max": 33.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 605.4594,
                        "max": 31.0,
                        "min": 22.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 603.071,
                        "max": 33.0,
                        "min": 21.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 600.92144,
                        "max": 34.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 598.2942,
                        "max": 31.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 595.9058,
                        "max": 31.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 593.5174,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 590.89016,
                        "max": 31.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 588.50176,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 585.87452,
                        "max": 31.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 583.24728,
                        "max": 30.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 580.62004,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 577.9928,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 575.12672,
                        "max": 33.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 572.26064,
                        "max": 34.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 569.6334,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 566.76732,
                        "max": 31.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 563.90124,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 560.79632,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 557.93024,
                        "max": 35.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 554.82532,
                        "max": 32.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 551.95924,
                        "max": 31.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 548.85432,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 545.7494,
                        "max": 32.0,
                        "min": 19.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 542.64448,
                        "max": 33.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 539.30072,
                        "max": 33.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 536.1958,
                        "max": 32.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 532.85204,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 529.74712,
                        "max": 33.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 526.40336,
                        "max": 35.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 523.0596,
                        "max": 38.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 519.71584,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 516.13324,
                        "max": 31.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 512.78948,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 509.20688,
                        "max": 32.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 505.86312,
                        "max": 31.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 502.28052,
                        "max": 31.0,
                        "min": 17.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 498.69792,
                        "max": 31.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 495.11532,
                        "max": 33.0,
                        "min": 16.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 491.53272,
                        "max": 33.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 487.71128,
                        "max": 33.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 484.12868,
                        "max": 39.0,
                        "min": 24.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 480.30724,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 476.4858,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 472.9032,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 469.08176,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 465.02148,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 461.20004,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 457.3786,
                        "max": 26.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 453.31832,
                        "max": 25.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 449.49688,
                        "max": 28.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 445.4366,
                        "max": 30.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 441.37632,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 437.55488,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 433.4946,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 429.19548,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 425.1352,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 421.07492,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 416.7758,
                        "max": 26.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 412.71552,
                        "max": 25.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 408.4164,
                        "max": 28.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 404.11728,
                        "max": 30.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 400.057,
                        "max": 28.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 395.75788,
                        "max": 30.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 391.45876,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 386.9208,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 382.62168,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 378.32256,
                        "max": 32.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 374.02344,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 369.48548,
                        "max": 32.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 364.94752,
                        "max": 26.0,
                        "min": 15.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 360.6484,
                        "max": 25.0,
                        "min": 18.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 356.11044,
                        "max": 28.0,
                        "min": 14.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                    {
                        "radiation": 351.57248,
                        "max": 30.0,
                        "min": 20.0,
                        "rain": 0.0,
                        "wind": 180.0,
                    },
                ],
                "agricultural_inputs": [
                    {"type": "fertilization", "date": "1984-04-01", "ammonium": 150.0},
                    {"type": "irrigation", "date": "1984-06-22", "amount": 89.000},
                    {"type": "irrigation", "date": "1984-07-12", "amount": 104.000},
                    {"type": "irrigation", "date": "1984-07-26", "amount": 104.000},
                    {"type": "irrigation", "date": "1984-08-08", "amount": 98.000},
                    {"type": "irrigation", "date": "1984-08-22", "amount": 72.000},
                    {
                        "type": "defoliation prediction",
                        "date": "1984-09-15",
                        "method": 85,
                    },
                ],
            }
        )
    )
    return test


@fixture
def sim(test_json) -> Simulation:
    return run(test_json)
